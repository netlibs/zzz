
plugins {
    id 'net.ltgt.apt-eclipse' version '0.21'
    id("maven-publish") apply false
}

allprojects {

  group = 'io.netlibs.zzz'
  
  repositories {
    jcenter()
  }
  
}

wrapper {
  gradleVersion = "6.2.2"
  doLast {
    delete "${projectDir}/gradlew.bat"
   }
}


subprojects {
    apply plugin: "maven-publish"
    publishing {
        repositories {
            maven {
                name = "GitHubPackages"
                url = uri("https://maven.pkg.github.com/netlibs/zzz")
                credentials {
                    username = System.getenv("GITHUB_ACTOR")
                    password = System.getenv("GITHUB_TOKEN")
                }
            }
        }
        publications {
            default(MavenPublication) {
                from(components.java)
            }
        }
    }
}