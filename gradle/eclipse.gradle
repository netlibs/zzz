
project.afterEvaluate {

  if (project.tasks.findByName('eclipseJdt')) {

	  project.task('configureBuildship').dependsOn(
	  
	    project.tasks['cleanEclipseFactorypath'],
	    project.tasks['cleanEclipseClasspath'],
	    project.tasks['cleanEclipseJdtApt'],
	    project.tasks['cleanEclipseJdt'],
	    
	    project.tasks['eclipseFactorypath'],
	    project.tasks['eclipseJdt'],
	    project.tasks['eclipseJdtApt']
	    
	  )

    project.eclipse {
      synchronizationTasks configureBuildship
    }
  
  }  

  project.eclipse {
    project.name = "zzz:${project.name}"
    project.natures << 'org.eclipse.buildship.core.gradleprojectnature'
  }

}

